# Лабораторная работа №3
## Студент: Мурашов Никита Александрович | Группа: К3141

---

## Цель работы

Настроить виртуальную машину **А** с операционной системой Ubuntu (или другой дистрибуцией Linux) в VirtualBox и обеспечить ей доступ в Интернет. Провести проверку подключения и предоставить скриншот терминала. Затем настроить вторую виртуальную машину **Б** и установить сетевое взаимодействие между машинами **А** и **Б**, приложив соответствующий скриншот. Далее создать третью виртуальную машину **В** и организовать сетевой доступ:

1. Из машины **А** в машину **Б**;
2. Из машины **А** в машину **В**;
3. Запретить доступ из машины **Б** в машину **В**;
4. Предоставить скриншот, отображающий терминалы всех трёх машин с подтверждением наличия или отсутствия доступа.

---

## Решение

Для выполнения задачи необходимо выполнить следующие шаги:

### 1. Создание виртуальных сетевых адаптеров

- **Шаг 1:** Откройте VirtualBox и перейдите в меню **«Файл» → «Инструменты» → «Менеджер сетей»**.

  ![Менеджер сетей](https://github.com/user-attachments/assets/b58173d2-7129-4fe5-9f49-16227afcc5df)

- **Шаг 2:** Создайте два виртуальных адаптера: один предустановленный и один новый. Для обоих адаптеров необходимо выполнить настройку.

- **Шаг 3:** Перейдите во вкладку **«DHCP-сервер»** для каждого адаптера и установите флажок **«Включить сервер»**, чтобы активировать встроенный DHCP-сервер.

  ![Настройка DHCP-сервера](https://github.com/user-attachments/assets/b902b70a-ec24-472d-bd7b-1e10b6bffab8)

### 2. Создание виртуальных машин

- **Шаг 1:** Создайте три виртуальные машины в VirtualBox, назовём их **A**, **B** и **C**.

### 3. Настройка сетевых параметров виртуальных машин

#### Настройка машины **A**

- **Шаг 1:** Выберите машину **A** и перейдите в настройки, затем в раздел **«Сеть»**.

- **Шаг 2:** Настройте сетевые адаптеры:

  - **Адаптер 1:**
    - Включен.
    - Тип подключения: **NAT** (позволяет выходить в Интернет).

  - **Адаптер 2:**
    - Включен.
    - Тип подключения: **Сетевой мост** или **Виртуальный адаптер хоста**.
    - Имя: выберите **первый** созданный вами виртуальный адаптер.

  - **Адаптер 3:**
    - Включен.
    - Тип подключения: **Сетевой мост** или **Виртуальный адаптер хоста**.
    - Имя: выберите **второй** созданный вами виртуальный адаптер.

#### Настройка машины **B**

- **Шаг 1:** Выберите машину **B** и перейдите в настройки, затем в раздел **«Сеть»**.

- **Шаг 2:** Настройте сетевые адаптеры:

  - **Адаптер 1:**
    - Включен.
    - Тип подключения: **Сетевой мост** или **Виртуальный адаптер хоста**.
    - Имя: выберите **первый** виртуальный адаптер (тот же, что и у машины **A**).
  
#### Настройка машины **C**

- **Шаг 1:** Выберите машину **C** и перейдите в настройки, затем в раздел **«Сеть»**.

- **Шаг 2:** Настройте сетевые адаптеры:

  - **Адаптер 1:**
    - Включен.
    - Тип подключения: **Сетевой мост** или **Виртуальный адаптер хоста**.
    - Имя: выберите **второй** виртуальный адаптер (тот же, что и у машины **А**).
---

## Объяснение работы сети

- **Машина A** имеет три сетевых адаптера:

  1. **NAT** — обеспечивает доступ к Интернету.
  2. **Host-Only Adapter 1** — подключение к локальной сети 1.
  3. **Host-Only Adapter 2** — подключение к локальной сети 2.

- **Машина B** имеет один сетевой адаптер:

  - **Host-Only Adapter 1** — подключение к локальной сети 1.

- **Машина C** имеет один сетевой адаптер:

  - **Host-Only Adapter 2** — подключение к локальной сети 2.

Таким образом:

- **Машина А** может взаимодействовать с **машиной B**, **машиной C** и имеет доступ в Интернет.
- **Машина B** может взаимодействовать только с **машиной А**.
- **Машина C** может взаимодействовать только с **машиной А**.

---

## Проверка работы сети

### Шаг 1: Определение IP-адресов машин

На каждой машине выполните команду:

```bash
ip a
```

Полученные IP-адреса:

```
192.168.10.1 #A1
192.168.20.1 #A2
192.168.56.101 #B
192.168.246.3 #C
```

- На скриншоте представлены терминалы всех трёх машин сверху вниз.
- IP-адреса указаны в строках, начинающихся с **inet**.
- Обратите внимание, что для машины **А** нас интересуют IP-адреса второго и третьего адаптеров.

### Шаг 2: Проверка доступа машины **А** к Интернету

На машине **А** выполните команду:

```bash
ping -c 4 google.com
```

Успешный результат пинга свидетельствует о наличии доступа к Интернету.

![Проверка доступа к Интернету](https://github.com/user-attachments/assets/6a6ac1ff-96ee-43ec-b185-d4fcb53810c1)

### Шаг 3: Проверка доступа из машины **А** в машину **B**

На машине **А** выполните команду:

```bash
ping -c 4 192.168.56.101
```

![Пинг машины B с машины А](![image](https://github.com/user-attachments/assets/1a20d955-0101-4927-99cc-991f19f0aa5f))

### Шаг 4: Проверка доступа из машины **А** в машину **C**

На машине **А** выполните команду:

```bash
ping -c 4 192.168.246.3
```

![Пинг машины C с машины А](https://github.com/user-attachments/assets/05f69dfe-9819-41d0-99a6-78fa0cf3248c)

### Шаг 5: Проверка недоступности машины **C** с машины **B**

На машине **Б** выполните команду (замените IP-адрес на фактический адрес машины **C**):

```bash
ping -c 4 192.168.104.5
```

Ожидается, что пинг не будет успешным, что подтверждает отсутствие доступа.

![Попытка пинга машины C с машины B](https://github.com/user-attachments/assets/248ba6b2-0bce-4868-8b5e-2f5179253af6)

---

## Заключение

В данной лабораторной работе мы успешно настроили сетевое взаимодействие между несколькими виртуальными машинами в VirtualBox. Мы обеспечили машине **А** доступ в Интернет и организовали связь между машинами **А**, **B** и **C** с требуемыми ограничениями. В процессе работы были освоены навыки настройки виртуальных сетевых адаптеров, конфигурации сетевых параметров в виртуальных машинах и диагностики сетевых подключений с использованием команд терминала.

---
